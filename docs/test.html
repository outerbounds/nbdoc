---

title: Testing Notebooks


keywords: fastai
sidebar: home_sidebar

summary: "Testing of notebooks used for documentation"
description: "Testing of notebooks used for documentation"
nb_path: "nbs/test.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/test.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can use <code>nbdev_test_nbs</code> from <a href="https://nbdev.fast.ai/test.html#nbdev_test_nbs">nbdev</a> to test notebooks.  No customization is necessary for docs sites.  This is aliased as <code>nbdoc_test</code> for convenience:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>nbdoc_test --help
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: nbdoc_test [-h] [--fname FNAME] [--flags FLAGS] [--n_workers N_WORKERS]
                  [--verbose VERBOSE] [--timing] [--pause PAUSE]

Test in parallel the notebooks matching `fname`, passing along `flags`

optional arguments:
  -h, --help             show this help message and exit
  --fname FNAME          A notebook name or glob to convert
  --flags FLAGS          Space separated list of flags
  --n_workers N_WORKERS  Number of workers to use
  --verbose VERBOSE      Print errors along the way (default: True)
  --timing               Timing each notebook to see the ones are slow (default:
                         False)
  --pause PAUSE          Pause time (in secs) between notebooks to avoid race
                         conditions (default: 0.5)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To use <code>nbdev_test_nbs</code>, you must also define a <code>settings.ini</code> file at the root of the repo.  For documentation based testing, we recommend setting the following variables:</p>
<ul>
<li>recursive = True</li>
<li>tst_flags = notest</li>
</ul>
<p><code>tst_flags = notest</code> allow you to make commments on cells like <code>#notest</code> to allow tests to skip a specific cell.  This is useful for skipping long-running tests.  You can <a href="https://nbdev.fast.ai/test.html#nbdev_test_nbs">read more about this here</a>.</p>
<p><code>recursive = True</code> sets the default behavior of <code>nbdev_test_nbs</code> to <code>True</code> which is probably is what you want for a documentation site with many folders nested arbitrarily deep that may contain notebooks.</p>
<p>Here is this project's <code>settings.ini</code> (note that the <code>recursive</code> flag is set to <code>False</code> as this project is not a documentation site):</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>cat ../settings.ini
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[DEFAULT]
host = github
lib_name = nbdoc
user = outerbounds
description = Generate beautiful, testable documentation with Jupyter Notebooks
keywords = documentation python jupyter notebook
author = Hamel Husain
author_email = hamel@outerbounds.com
copyright = Outerbounds
branch = master
version = 0.0.6
min_python = 3.6
audience = Developers
language = English
custom_sidebar = False
license = apache2
status = 2
requirements = nbdev fastcore
nbs_path = nbs
doc_path = docs
recursive = False
doc_host = https://outerbounds.github.io
doc_baseurl = /nbdoc/
git_url = https://github.com/outerbounds/nbdoc/tree/master/
lib_path = nbdoc
title = nbdoc
console_scripts = nbdoc_build=nbdoc.convert:nbdoc_build
	nbdoc_test=nbdev.test:nbdev_test_nbs
tst_flags = notest

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.test</span> <span class="kn">import</span> <span class="n">nbdev_test_nbs</span>
<span class="n">nbdev_test_nbs</span><span class="p">(</span><span class="s1">&#39;test_files/example_input.ipynb&#39;</span><span class="p">,</span> <span class="n">n_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>testing /Users/hamel/github/nbdoc/nbs/test_files/example_input.ipynb
All tests are passing!
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nbdev_test_nbs</span><span class="p">(</span><span class="s1">&#39;test_files/&#39;</span><span class="p">,</span> <span class="n">n_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>testing /Users/hamel/github/nbdoc/nbs/test_files/example_input.ipynb
testing /Users/hamel/github/nbdoc/nbs/test_files/hello_world.ipynb
testing /Users/hamel/github/nbdoc/nbs/test_files/run_flow.ipynb
testing /Users/hamel/github/nbdoc/nbs/test_files/run_flow_showstep.ipynb
testing /Users/hamel/github/nbdoc/nbs/test_files/writefile.ipynb
All tests are passing!
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>


